## Инструкция по развёртыванию проекта

### Предварительные требования:
Для запуска требуется установленый docker-compose, а так-же свободные порты 22181 и 29092

### Установка
1. Склонируйте репозиторий: `git clone git@github.com:SneedusSnake/QueueTest.git`
2. Перейдите в корень проекта `cd ./QueueTest`
3. Создайте файл настроек окружения `cp ./.env.example ./.env`
4. Запустите docker контейнер проекта `docker compose up --build --detach`
5. Чтобы наполнить топик Kafka сгенерированными событиями пользователей запустите команду `docker exec queue_app ./application.php FireEvents`
Команда сгенирирует 10 000 событий равномерно распределенных между 1 000 пользователей. С помощью аргумента команде можно задать своё количество событий, например `docker exec queue_app ./application.php FireEvents 5000`
6. Чтобы начать обрабатывать события запустите процессы потребителей `docker exec queue_app bash ./consumers.sh 200` где 200 это количество активных потребителей, одновременно обрабатывающих сообщения. В зависимости от ресурса машины, на которой запускается команда, можно увеличить это число вплоть до 1 000.